"use strict";(self["webpackChunkdibang"]=self["webpackChunkdibang"]||[]).push([[631],{7631:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",[e("el-form",[e("el-form-item",{staticClass:"guanjian",attrs:{label:"关键词:",prop:"age"}},[e("el-input",{staticClass:"inpws",attrs:{autocomplete:"off",placeholder:"分类名称/编码"},model:{value:t.importName,callback:function(e){t.importName=e},expression:"importName"}}),e("el-button",{staticClass:"btn_sou",attrs:{type:"primary"},on:{click:t.look}},[e("i",[e("img",{staticClass:"img-add",attrs:{src:a(6809),alt:""}})]),t._v("搜索")]),e("el-button",{staticClass:"add",attrs:{type:"success"},on:{click:t.addOrder}},[e("i",[e("img",{staticClass:"img-add",attrs:{src:a(1986),alt:""}})]),t._v("添加")])],1),e("el-table",{staticClass:"table",attrs:{data:t.tableData.slice((t.currentPage-1)*t.pageSize,t.currentPage*t.pageSize),"row-key":"id","max-height":"400","header-cell-style":{background:"#e9e8e8c0",border:"1px solid #e9e9ee"},border:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[e("el-table-column",{attrs:{label:"序号",align:"center",type:"index"}}),e("el-table-column",{attrs:{prop:"itemName",label:"物质分类",align:"center",sortable:""}}),e("el-table-column",{attrs:{prop:"itemCode",label:"编号",align:"center",sortable:""}}),e("el-table-column",{attrs:{prop:"useState",align:"center",label:"启用状态"},scopedSlots:t._u([{key:"default",fn:function(a){return[1==a.row.useState?e("span",{class:{staColor:1==a.row.useState}},[t._v("启用")]):e("span",{class:{stoColor:0==a.row.useState}},[t._v("停用")])]}}])}),e("el-table-column",{attrs:{prop:"createTime",align:"center",label:"创建时间"}}),e("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"btnColor",on:{click:function(e){return t.handleClick(a.row)}}},[t._v("编辑")]),e("span",{staticClass:"bor"}),e("span",{directives:[{name:"show",rawName:"v-show",value:0==a.row.useState,expression:"scope.row.useState==0"}],staticClass:"btnColor",on:{click:function(e){return t.undenglu(a.row)}}},[t._v("启用")]),e("span",{directives:[{name:"show",rawName:"v-show",value:1==a.row.useState,expression:"scope.row.useState==1"}],staticClass:"btnColor",on:{click:function(e){return t.odenglu(a.row)}}},[t._v("禁用")])]}}])})],1)],1)],1),e("el-dialog",{staticClass:"dialog",attrs:{title:"添加物资分类",visible:t.addDialog},on:{"update:visible":function(e){t.addDialog=e}}},[e("el-form",{staticStyle:{width:"100%"},attrs:{model:t.form,rules:t.rules}},[e("el-form-item",{staticClass:"lei",attrs:{label:"所属上级:","label-width":t.formLabelWidth,prop:"name"}},[e("el-input",{staticClass:"ipt-w",attrs:{autocomplete:"off",placeholder:"请输入"},model:{value:t.froms.shangji,callback:function(e){t.$set(t.froms,"shangji",e)},expression:"froms.shangji"}})],1),e("el-form-item",{staticClass:"lei",attrs:{label:"分类编号:","label-width":t.formLabelWidth}},[e("el-input",{staticClass:"ipt-w",attrs:{autocomplete:"off",placeholder:"请输入"},model:{value:t.froms.bianhao,callback:function(e){t.$set(t.froms,"bianhao",e)},expression:"froms.bianhao"}},[e("template",{slot:"prepend"},[t._v("00A")])],2)],1),e("el-form-item",{staticClass:"lei",attrs:{label:"分类名称:","label-width":t.formLabelWidth,prop:"name"}},[e("el-input",{staticClass:"ipt-w",attrs:{autocomplete:"off",placeholder:"请输入"},model:{value:t.froms.mingcheng,callback:function(e){t.$set(t.froms,"mingcheng",e)},expression:"froms.mingcheng"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticStyle:{"background-color":"#fff",color:"#666666","border-radius":"18px",border:"1px solid #d1d1d1"},on:{click:function(e){t.addDialog=!1}}},[t._v("取 消")]),e("el-button",{staticStyle:{"background-color":"#6971ef",color:"#fff","border-radius":"18px"},on:{click:t.addSubmit}},[t._v("确 定")])],1)],1),e("el-dialog",{staticClass:"dialog",attrs:{title:"编辑物资分类",visible:t.selectDialog},on:{"update:visible":function(e){t.selectDialog=e}}},[e("el-form",{staticStyle:{width:"100%"},attrs:{model:t.form,rules:t.rules}},[e("el-form-item",{staticClass:"lei",attrs:{label:"所属上级:","label-width":t.formLabelWidth,prop:"name"}},[e("el-input",{staticClass:"ipt-w",attrs:{autocomplete:"off",placeholder:"请输入"},model:{value:t.form.pid,callback:function(e){t.$set(t.form,"pid",e)},expression:"form.pid"}})],1),e("el-form-item",{staticClass:"lei",attrs:{label:"分类编号:","label-width":t.formLabelWidth}},[e("el-input",{staticClass:"ipt-w",attrs:{autocomplete:"off",placeholder:"请输入"},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}},[e("template",{slot:"prepend"},[t._v("00A")])],2)],1),e("el-form-item",{staticClass:"lei",attrs:{label:"分类名称:","label-width":t.formLabelWidth,prop:"name"}},[e("el-input",{staticClass:"ipt-w",attrs:{placeholder:"请输入"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticStyle:{"background-color":"#fff",color:"#666666","border-radius":"18px",border:"1px solid #d1d1d1"},on:{click:function(e){t.selectDialog=!1}}},[t._v("取 消")]),e("el-button",{staticStyle:{"background-color":"#6971ef",color:"#fff","border-radius":"18px"},on:{click:t.selectSubmit}},[t._v("确 定")])],1)],1),e("div",{staticClass:"block"},[e("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.pageSize,layout:" prev, pager, next, jumper,sizes,total",total:this.tableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},i=[];a(4114);const o=t=>{t.forEach((t=>{t.status=1==t.status?"正常":"停用"}));let e=[];if(!Array.isArray(t)||0===t.length)return e;let a={};return t.forEach((t=>a[t.id]=t)),t.forEach((t=>{const r=a[t.pid];r?(r.children||(r.children=[])).push(t):e.push(t)})),e};var n=a(1370),s={data(){return{pageSize:5,pageSizes:[5,10,15],currentPage:1,importName:"",ids:"",froms:{shangji:"",mingcheng:"",bianhao:""},form:{pid:"",id:"",itemName:""},formLabelWidth:"120px",addDialog:!1,selectDialog:!1,start:1,rules:{},tableData:[],ontData:[]}},mounted(){this.getList()},methods:{List(){(0,n.bg)().then((t=>{this.tableData=o(t.data.ResData),console.log(t)}))},getList(){(0,n.Os)({keyword:this.importName}).then((t=>{console.log(t,"lieniao"),this.tableData=t.data.ResData}))},handleSizeChange(t){this.currentPage=1,this.pageSize=t,this.List()},handleCurrentChange(t){this.currentPage=t,this.List()},undenglu(t){(0,n.Uc)({id:t.id,status:"1"}).then((t=>{console.log(t,"禁止成功"),this.getList()}))},odenglu(t){(0,n.Uc)({id:t.id,status:"0"}).then((t=>{console.log(t,"启用成功"),this.getList()}))},addSubmit(){(0,n.xP)({pid:this.froms.shangji,itemName:this.froms.mingcheng,itemCode:this.froms.bianhao}).then((t=>{console.log(t),"ture"==t.data.Success?this.$message("添加成功"):this.$message(t.data.ErrMsg),this.tableData=t.data.ResData,this.getList()})),this.addDialog=!1},selectSubmit(){(0,n.xP)({pid:this.form.pid,itemName:this.form.name,itemCode:this.form.id,id:this.ids}).then((t=>{"ture"==t.data.Success?this.$message("修改成功"):this.$message(t.data.ErrMsg),this.tableData.children=t.data.ResData,this.getList()})),this.selectDialog=!1},look(){(0,n.Os)({keyword:this.importName}).then((t=>{console.log(t,"lieniao"),this.tableData=o(t.data.ResData)}))},addOrder(){this.addDialog=!0},handleClick(t){console.log(t,"13123"),this.form.id=t.itemCode,this.form.name=t.itemName,this.form.pid=t.pid,this.ids=t.id,this.selectDialog=!0,console.log(this.ids)},header({rowIndex:t}){if(0==t)return"headerClass"},load(t,e,a){setTimeout((()=>{a([{id:31,date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{id:32,date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"}])}),1e3)}},components:{}},l=s,u=a(1656),c=(0,u.A)(l,r,i,!1,null,"94a42a00",null),d=c.exports},1370:function(t,e,a){a.d(e,{Qi:function(){return I},XX:function(){return S},rf:function(){return v},YD:function(){return x},ww:function(){return s},bg:function(){return Y},ky:function(){return g},xP:function(){return y},Os:function(){return V},Ps:function(){return f},x4:function(){return h},WR:function(){return T},mm:function(){return u},M8:function(){return D},Uc:function(){return F},Fj:function(){return E},M5:function(){return L},E3:function(){return d},Mn:function(){return p},G5:function(){return n},cp:function(){return N},o0:function(){return B},Vo:function(){return U},qA:function(){return k},cL:function(){return b},Lt:function(){return m},Ip:function(){return W},$C:function(){return Q},SD:function(){return R},_V:function(){return w},_r:function(){return l},NI:function(){return A},xB:function(){return C},Wb:function(){return c}});var r=a(8355);r.A.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";const i=r.A.create({baseURL:"http://smart.yinuoerp.com:9103",timeout:9e3});i.interceptors.request.use((t=>(localStorage.getItem("token")&&(t.headers["auth"]=localStorage.getItem("token"),t.headers["timestamp"]=Date.parse(new Date)),t))),i.interceptors.response.use((t=>t));var o=i;function n(t){return o({url:"api/Login/Index",method:"post",data:t})}function s(t){return o({url:"api/Dashboard/FindData",method:"get",pramas:t})}function l(t){return o({url:"api/Statistics/FirstData",method:"post",data:t})}function u(t){return o({url:"api/Statistics/ExportExcelData",method:"post",responseType:"blob",data:t})}function c(t){return o({url:"api/Statistics/FindSelList",method:"get",get:t})}function d(t){return o({url:`api/Weighing/FindItem?id=${t.id}`,method:"get",pramas:t})}function m(t){return o({url:"api/Weighing/FirstData",method:"post",data:t})}function p(t){return o({url:"api/Weighing/FindSelList",method:"get",pramas:t})}function f(t){return o({url:"api/Account/FindData",method:"post",data:t})}function h(t){return o({url:`api/Account/FindItem?id=${t.id}`,method:"get",pramas:t})}function g(t){return o({url:"api/Account/ToSave",method:"post",data:t})}function b(t){return o({url:"api/Account/ToResetState",method:"post",data:t})}function A(t){return o({url:"api/User/UserInfo",method:"get",pramas:t})}function C(t){return o({url:`api/VehicleReservation/FindItem?id=${t.id}`,method:"get",pramas:t})}function S(t){return o({url:"api/VehicleReservation/GetVehicleList",method:"get",pramas:t})}function v(t){return o({url:"api/VehicleReservation/FindData",method:"post",data:t})}function w(t){return o({url:"api/VehicleReservation/ToSave",method:"post",data:t})}function D(t){return o({url:"api/VehicleReservation/GetVehicleList",method:"get",pramas:t})}function k(t){return o({url:`api/VehicleReservation/ToCancle?id=${t.id}`,method:"get",pramas:t})}function R(t){return o({url:"api/VehicleReservation/ToApprove",method:"post",data:t})}function I(t){return o({url:"api/Vehicle/FindData",method:"post",data:t})}function x(t){return o({url:"api/Vehicle/GetConsigneeList",method:"get",pramas:t})}function T(t){return o({url:"api/Vehicle/ToSave",method:"post",data:t})}function L(t){return o({url:"api/Weighbridge/FindData",method:"post",data:t})}function E(t){return o({url:"api/Weighbridge/ToSave",method:"post",data:t})}function V(t){return o({url:"api/MaterialItem/FirstData",method:"post",data:t})}function y(t){return o({url:"api/MaterialItem/ToSave",method:"post",data:t})}function F(t){return o({url:"api/MaterialItem/ToResetState",method:"post",data:t})}function Y(t){return o({url:"api/MaterialItem/FindSuperiorList",method:"post",data:t})}function Q(t){return o({url:"api/Charging/ToSave",method:"post",data:t})}function W(t){return o({url:"api/Charging/FindData",method:"post",data:t})}function B(t){return o({url:"api/Company/GetUserList",method:"get",pramas:t})}function N(t){return o({url:"api/Company/ToSave",method:"post",data:t})}function U(t){return o({url:"api/User/UserInfo",method:"get",pramas:t})}},1986:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAslJREFUWEfFl4FRVEEQRLsjUCMQIlAiECNQIhAzwAiECDQDJQIhAjECIQI1AiGCsR41e+z/t3e7d2cVW0XdFf/+Tk/3zGyvtcGKiDeS3krak/RU0st8/VrSraTfki5sX45u694PI4JgHzMwQUcWYC4kfbDN95VrLYCIIPBJZssmd7nxVWZbbwzQwwT6JB8Q/LPts1UImgAigky/VxTfSDq1TVbdFRHIdCrpRSXR6xYbSwAiAl0JDggyPrH9tRu18YOIOIYBSTACG4CgXhZrAiAz/5XByfp4/sKmQDIhmHueIPZrJhYAZrQT/LBXQKNgcm8yBwSfCzlqAGhG0UE7wSdUzYNVbN3a3u+BSSYoXuQ4s0083QPIVvuZ1L8f0TwiqHhqRba77ZxxqIkvtRQFAEX2TtKN7TJc1ia1DYAEAbN0x7nt4wLgb2Z/tEGrbcxAAqBFv8GC7WfOnuUfd7ZHJx2ybQUgQdCS1MIRAAr995T0iqk83xHAQ8yIoDJfSRoqvv8EgPH+SdIPGKD6KTx6EzCLla1T5vqcHN5hyrGQY9WisCcHUsXeNQAi32wBKM9GlWn97tI2hVcn9lA/HQClZXYBsBg6TfkiogRZYmBd1B2LsDBwgwSPXoSP3oaTyTQq9o4SPEzepck07nq2moTzyTs/jK5tH4ywsC0DEYHhwT9ODiPOACw1Q2doIm4DIC0axzGeY48B1TIkTe82Z2VTADOvOTUk1YAoMwE2DnqWLCKY6cg2GeENsDDMyIf6id1rmdIiBZ/4g7XWrFcvmTnHPcH/cO40TWnFAodM8W7IgS0/7wVqPY8IXBYHVrH4S15z3cUEEPXFgovJ0J0v75CYzmLvVrrs3tWMTdC5vmrh8ZFlLg3B+GOwFWdFtXM1u3fArdV1s2m/oZGNV3mD+d7lDol8219OG9UMCCYgmZJlkQiKCQQrV6PGlv3/ARJslw8lHLrrAAAAAElFTkSuQmCC"},6809:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAqhJREFUWEfNl41RFEEQhV9HoBmIESARCBGoESgRiBHoRaBGIESgRCBEIBkIEagRPOvb6tmandvdW7g7y666WtiZnX7d/fpnQgvF9gtJLyUdVD++vpH0W9I3SdcRwf+LJeZ22n4s6a2kD4tPlK4krSKC50aZBGC7KAbEmNxJYu3RxDqeeBURt3Mo1gCk1R8lvWk+vEg3X0UELu/F9rPcT4ieVEvsO40IwjMqAwCp/LskDiyC4rNW6dSBts8yZLVn8MQoiBbAl8ryP/w9h34GBERF4WHuwRMnYwTtASRyXI+g/Pi+jG7CAj8gYg3iaevJDkC6/meSilegXcTiOYLluZCx8ILsGGRUAcDL93nY54ggjjsR28eS4BVCKI7qzCgAXLn+YCnhliK0jTef5/53EfGpfBu2SZ2v+7C+KGm8cBMRRzWAc0mv88Vkuiy1diYzcH9JTcjYFSg80LsnImZL8zYgbJOW9JMByQEA+8nbu4jguRexXROd6ojnOw8UAtLJYOxepAHQp+N/AYBC0VWrPXOA1KPDIoMQ1Dnas3PXcWhqQV9pCQFVr/SAHtkuAWRJ/tXnfpVtAKD1/shFev3JLpVzVmPkZURQ/DoppbgOw04aUVGQ1mNgSfFBsSsA6nIMKQExmHoe6pUm/dZqTT0P9Nkg6TwiTh+qtLK+NmxQAQchyDjhIkCUer0VCNvMlExYRUbbfDuStYgXTbatp2wzW7Sj/KhBY1MxIKjT9VDJYRebRmzbdFX2TvWUNRCj3S9Tk8xoZ348UqZb1klhZj+efWrVbs/10u5ZGoCYu5hwMEWK39TlY4qnXFqYqLu50nY9cwxAbOz/tnEn1kGqMuFOKb5MC9fuAFMgNgKoNSWY9nLKZHO7ZIoeAbG6F4Bt68JYOP45gARRpqPVX3zdNyYtxURyAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=631.afd5bdd4.js.map